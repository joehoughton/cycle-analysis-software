<div class="row" ng-if="!loadingIntervalSummary">
    <div class="col-xs-12">
        <div class="panel-primary">
            <div class="panel-heading clearfix">
                <h4 class="panel-title pull-left"><strong>Interval Summary</strong> <i class="ng-binding"> {{intervalSummary.TrainingStressScoreStatus}}</i></h4>
                <div class="row">
                    <div class="col-xs-12 col-sm-8 col-md-3 pull-right">
                        <select class="form-control" ng-model="selectedUnit" ng-options="unit.name for unit in units" ng-change="loadSessionDataSubset(selectedUnit); loadIntervalSummary(selectedUnit);"></select>
                    </div>
                </div>
            </div>
            <div class="panel-body clearfix">
                <div class="media">
                    <div class="media-body">
                        <div ng-if="loadingIntervalSummary" class="text-center">
                            <div class="col-xs-4"></div>
                            <div class="col-xs-4">
                                <div class="row">
                                    <i class="fa fa-refresh fa-5x fa-spin"></i>
                                </div>
                                <div class="row">
                                    <label class="label label-primary">Loading summary data...</label>
                                </div>
                            </div>
                        </div>
                        <div class="row" ng-if="!loadingIntervalSummary">
                            <div class="col-sm-12 col-md-6">
                                <h4 class="media-heading">Workout</h4>
                            </div>
                        </div>
                        <div class="row" ng-if="!loadingIntervalSummary">
                            <div class="col-sm-4 col-md-4">
                                <div class="row">
                                    <div class="col-sm-12 col-md-6">
                                        Total Distance: <strong>{{workoutSummary.TotalDistance}} <span ng-show="selectedUnit.index == 0">km</span><span ng-show="selectedUnit.index == 1">mi</span></strong>
                                    </div>
                                    <div class="col-sm-12 col-md-6">
                                        Avg Speed: <strong>{{workoutSummary.AverageSpeed}} <span ng-show="selectedUnit.index == 0">km/h</span><span ng-show="selectedUnit.index == 1">mph</span></strong>
                                        <br/>
                                        Max Speed: <strong>{{workoutSummary.MaximumSpeed}} <span ng-show="selectedUnit.index == 0">km/h</span><span ng-show="selectedUnit.index == 1">mph</span></strong>
                                    </div>
                                </div>
                            </div>
                            <div class="col-sm-4 col-md-4">
                                <div class="row">
                                    <div class="col-sm-12 col-md-6">
                                        Avg HR: <strong>{{workoutSummary.AverageHeartRate}} bpm</strong>
                                        <br/>
                                        Min HR: <strong>{{workoutSummary.MinimumHeartRate}} bpm</strong>
                                        <br/>
                                        Max HR: <strong>{{workoutSummary.MaximumHeartRate}} bpm</strong>
                                    </div>
                                    <div class="col-sm-12 col-md-6">
                                        Avg Power: <strong>{{workoutSummary.AveragePower}} watts</strong>
                                        <br/>
                                        Max Power: <strong>{{workoutSummary.MaximumPower}} watts</strong>
                                    </div>
                                </div>
                            </div>
                            <div class="col-sm-4 col-md-4">
                                <div class="row">
                                    <div class="col-sm-12 col-md-6">
                                        Avg Altitude: <strong>{{workoutSummary.AverageAltitude}} <span ng-show="selectedUnit.index == 0">m</span><span ng-show="selectedUnit.index == 1">ft</span></strong>
                                        <br/>
                                        Max Altitude: <strong>{{workoutSummary.MaximumAltitude}} <span ng-show="selectedUnit.index == 0">m</span><span ng-show="selectedUnit.index == 1">ft</span></strong>
                                    </div>
                                    <div class="col-sm-12 col-md-6">
                                        Avg Cadence: <strong>{{workoutSummary.AverageCadence}} rpm</strong>
                                        <br/>
                                        Max Cadence: <strong>{{workoutSummary.MaximumCadence}} rpm</strong>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="row" ng-if="!loadingIntervalSummary">
                            <div class="col-sm-12 col-md-6">
                                <h4 class="media-heading">Rest</h4>
                            </div>
                        </div>
                        <div class="row" ng-if="!loadingIntervalSummary">
                            <div class="col-sm-4 col-md-4">
                                <div class="row">
                                    <div class="col-sm-12 col-md-6">
                                        Total Distance: <strong>{{restSummary.TotalDistance}} <span ng-show="selectedUnit.index == 0">km</span><span ng-show="selectedUnit.index == 1">mi</span></strong>
                                    </div>
                                    <div class="col-sm-12 col-md-6">
                                        Avg Speed: <strong>{{restSummary.AverageSpeed}} <span ng-show="selectedUnit.index == 0">km/h</span><span ng-show="selectedUnit.index == 1">mph</span></strong>
                                        <br />
                                        Max Speed: <strong>{{restSummary.MaximumSpeed}} <span ng-show="selectedUnit.index == 0">km/h</span><span ng-show="selectedUnit.index == 1">mph</span></strong>
                                    </div>
                                </div>
                            </div>
                            <div class="col-sm-4 col-md-4">
                                <div class="row">
                                    <div class="col-sm-12 col-md-6">
                                        Avg HR: <strong>{{restSummary.AverageHeartRate}} bpm</strong>
                                        <br />
                                        Min HR: <strong>{{restSummary.MinimumHeartRate}} bpm</strong>
                                        <br />
                                        Max HR: <strong>{{restSummary.MaximumHeartRate}} bpm</strong>
                                    </div>
                                    <div class="col-sm-12 col-md-6">
                                        Avg Power: <strong>{{restSummary.AveragePower}} watts</strong>
                                        <br />
                                        Max Power: <strong>{{restSummary.MaximumPower}} watts</strong>
                                    </div>
                                </div>
                            </div>
                            <div class="col-sm-4 col-md-4">
                                <div class="row">
                                    <div class="col-sm-12 col-md-6">
                                        Avg Altitude: <strong>{{restSummary.AverageAltitude}} <span ng-show="selectedUnit.index == 0">m</span><span ng-show="selectedUnit.index == 1">ft</span></strong>
                                        <br />
                                        Max Altitude: <strong>{{restSummary.MaximumAltitude}} <span ng-show="selectedUnit.index == 0">m</span><span ng-show="selectedUnit.index == 1">ft</span></strong>
                                    </div>
                                    <div class="col-sm-12 col-md-6">
                                        Avg Cadence: <strong>{{restSummary.AverageCadence}} rpm</strong>
                                        <br />
                                        Max Cadence: <strong>{{restSummary.MaximumCadence}} rpm</strong>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="panel-footer clearfix">
                <div class="pull-right">
                    <button type="button" class="btn btn-danger" ng-click="cancel()">Cancel</button>
                </div>
            </div>
        </div>
    </div>
</div>
